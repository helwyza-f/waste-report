(()=>{console.log("\uD83D\uDD25 Custom Service Worker Loaded");self.addEventListener("push",o=>{console.log("\uD83D\uDCE6 Push event received:",o);try{var i;const t=(i=o.data)===null||i===void 0?void 0:i.json();console.log("\uD83D\uDCE8 Push data:",t);const n=t.title||"Notifikasi";const e={body:t.body||"",icon:"/icons/icon-192x192.png",data:{url:t.url||"/"}};o.waitUntil(self.registration.showNotification(n,e))}catch(o){console.error("❌ Failed to parse push data:",o)}});self.addEventListener("notificationclick",o=>{var i;o.notification.close();const t=((i=o.notification.data)===null||i===void 0?void 0:i.url)||"/";o.waitUntil(clients.openWindow(t))})})();